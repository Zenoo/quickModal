!function($){$.fn.extend({quickModal:function(options){this.defaultOptions={darkenBackground:!0,isForm:!0,closeText:"Close",classes:[],attributes:{"data-modal":"true"},form:{action:"path/to/your/form",method:"POST",id:"formId",submit:"OK"},header:"<div>Custom HTML</div>",body:[{type:"text",text:"I am Text !",tag:"h3",id:"myId",classes:["class1","class2"],attributes:{}},{type:"form",label:"I am Input !",inputType:"text",placeholder:"I am Placeholder !",name:"formText",value:"currentValue",tag:"input",id:"myInput",classes:["class1","class2"],attributes:{}},{type:"form",label:"I am Textarea !",placeholder:"I am Placeholder !",name:"formTextarea",value:"currentValue",tag:"textarea",id:"myTextarea",classes:["class1","class2"],attributes:{"data-modal":"true"}},{type:"form",label:"I am Select !",name:"formSelect",tag:"select",id:"mySelect",classes:["class1","class2"],options:[{value:"val",text:"Option 1",selected:!1},{value:"val2",text:"Option 2",selected:!0}],attributes:{}}],footer:[{text:"I am Link !",href:"path/to/link",id:"myLink",classes:["class1","class2"]}],afterOpen:function(modal){},beforeClose:function(modal){},onSubmit:function(form){}};var settings=$.extend({},this.defaultOptions,options),that=this;for(this.quickModalId=0;0!=$("#quick-modal-"+this.quickModalId).length;)this.quickModalId++;this.destroy=function(){$("#quick-modal-"+that.quickModalId+" .quick-modal-close").trigger("click"),$(document).off("click","#quick-modal-hider-"+that.quickModalId+",#quick-modal-"+that.quickModalId+" .quick-modal-close"),settings.isForm&&$(document).off("submit","#quick-modal-"+that.quickModalId+" form")},settings.darkenBackground&&$("body").append('<div id="quick-modal-hider-'+this.quickModalId+'" class="quick-modal-hider"></div>');var modal=$('\n            \t<section id="quick-modal-'+this.quickModalId+'" class="quick-modal">\n                \t'+(settings.isForm?"<form "+("id"in settings.form?'id="'+settings.form.id+'"':"")+' action="'+(void 0!=settings.form.action?settings.form.action:"#")+'" method="'+(void 0!=settings.form.method?settings.form.method:"POST")+'">':"")+"\n                \t<header>\n                    \t"+settings.header+'\n                        <aside><i class="fa fa-close fa-times quick-modal-close" aria-hidden="true"></i></aside>\n                    </header>\n                    <section class="quick-modal-main">\n                    \n                    </section>\n                    <footer>\n                    \t<ul>\n                        \t'+(settings.isForm?'<li><input type="submit" class="quick-modal-generated-btn quick-modal-submit" value="'+(void 0!=settings.form.submit?settings.form.submit:"OK")+'" /></li><li><a class="quick-modal-generated-btn quick-modal-close" href="">'+settings.closeText+"</a></li>":'<li><a class="quick-modal-generated-btn quick-modal-close" href="">'+settings.closeText+"</a></li>")+"\n                        </ul>\n                    </footer>\n                    "+(settings.isForm?"</form>":"")+"\n                </section>\n            ");if("classes"in settings)for(let clazz of settings.classes)modal.addClass(clazz);if("attributes"in settings)for(let k in settings.attributes)settings.attributes.hasOwnProperty(k)&&modal.attr(k,settings.attributes[k]);return $.each(settings.body,function(k,line){var html;if("text"==line.type){if(html=$("<"+line.tag+">"+line.text+"</"+line.tag+">"),"id"in line&&html.attr("id",line.id),"attributes"in line)for(let k in line.attributes)line.attributes.hasOwnProperty(k)&&html.attr(k,line.attributes[k]);if("classes"in line)for(let clazz of line.classes)html.addClass(clazz)}else if("form"==line.type)switch(line.tag){case"select":if(html=$("label"in line?'<p><label for="'+line.name+'">'+line.label+"</label><"+line.tag+' name="'+line.name+'"></'+line.tag+"></p>":"<p><"+line.tag+' name="'+line.name+'"></'+line.tag+"></p>"),"id"in line&&$(line.tag,html).attr("id",line.id),"classes"in line)for(let clazz of line.classes)$(line.tag,html).addClass(clazz);if("attributes"in line)for(let k in line.attributes)line.attributes.hasOwnProperty(k)&&$(line.tag,html).attr(k,line.attributes[k]);$.each(line.options,function(k,option){var attributesToAdd="";if("attributes"in option)for(let k in option.attributes)option.attributes.hasOwnProperty(k)&&(attributesToAdd+=k+'="'+option.attributes[k]+'"');$(line.tag,html).append("<option "+attributesToAdd+' value="'+option.value+'" '+(option.selected?"selected":"")+">"+option.text+"</option>")});break;case"textarea":if(html=$("label"in line?'<p><label for="'+line.name+'">'+line.label+"</label><"+line.tag+' name="'+line.name+'"></'+line.tag+"></p>":"<p><"+line.tag+' name="'+line.name+'"></'+line.tag+"></p>"),"id"in line&&$(line.tag,html).attr("id",line.id),"classes"in line)for(let clazz of line.classes)$(line.tag,html).addClass(clazz);if("attributes"in line)for(let k in line.attributes)line.attributes.hasOwnProperty(k)&&$(line.tag,html).attr(k,line.attributes[k]);"placeholder"in line&&$(line.tag,html).attr("placeholder",line.placeholder),"value"in line&&$(line.tag,html).val(line.value);break;default:if("hidden"==line.inputType){if(html=$("<"+line.tag+' name="'+line.name+'" />'),"id"in line&&$(html).attr("id",line.id),"classes"in line)for(let clazz of line.classes)$(html).addClass(clazz);if("attributes"in line)for(let k in line.attributes)line.attributes.hasOwnProperty(k)&&html.attr(k,line.attributes[k]);"placeholder"in line&&$(html).attr("placeholder",line.placeholder),"inputType"in line&&$(html).attr("type",line.inputType),"value"in line&&$(html).val(line.value)}else{if(html="label"in line?"inputType"in line&&"checkbox"==line.inputType?$("<p><"+line.tag+' name="'+line.name+'" /><label for="'+line.name+'" '+("inputType"in line?'class="type-'+line.inputType+'"':"")+">"+line.label+"</label></p>"):$('<p><label for="'+line.name+'" '+("inputType"in line?'class="type-'+line.inputType+'"':"")+">"+line.label+"</label><"+line.tag+' name="'+line.name+'" /></p>'):$("<p><"+line.tag+' name="'+line.name+'" /></p>'),"id"in line&&$(line.tag,html).attr("id",line.id),"classes"in line)for(let clazz of line.classes)$(line.tag,html).addClass(clazz);if("attributes"in line)for(let k in line.attributes)line.attributes.hasOwnProperty(k)&&$(line.tag,html).attr(k,line.attributes[k]);"placeholder"in line&&$(line.tag,html).attr("placeholder",line.placeholder),"inputType"in line&&$(line.tag,html).attr("type",line.inputType),"value"in line&&$(line.tag,html).val(line.value)}}$(".quick-modal-main",modal).append(html)}),$.each(settings.footer,function(k,link){var li=$('<li><a class="quick-modal-generated-btn" href="'+link.href+'">'+link.text+"</a></li>");if("id"in link&&li.attr("id",link.id),"classes"in link)for(let clazz of link.classes)li.find("a").addClass(clazz);if("attributes"in link)for(let k in link.attributes)link.attributes.hasOwnProperty(k)&&li.attr(k,link.attributes[k]);$("footer ul li a.quick-modal-generated-btn.quick-modal-close",modal).length?$("footer ul li a.quick-modal-generated-btn.quick-modal-close",modal).parent().before(li):$("footer ul li input.quick-modal-generated-btn.quick-modal-submit",modal).parent().before(li)}),$("body").append(modal),setTimeout(function(){modal.addClass("active"),$("#quick-modal-hider-"+that.quickModalId).addClass("active")},20),settings.afterOpen.call(void 0,modal),$(document).on("click","#quick-modal-hider-"+this.quickModalId+",#quick-modal-"+this.quickModalId+" .quick-modal-close",function(e){e.preventDefault(),settings.beforeClose.call(void 0,$("#quick-modal-"+that.quickModalId)),$("#quick-modal-"+that.quickModalId+",#quick-modal-hider-"+that.quickModalId).removeClass("active").addClass("done"),setTimeout(function(){$("#quick-modal-"+that.quickModalId+",#quick-modal-hider-"+that.quickModalId).remove(),that.destroy()},2e3)}),settings.isForm&&$(document).on("submit","#quick-modal-"+that.quickModalId+" form",function(e){settings.onSubmit.call(void 0,e,$(this))}),this}})}(jQuery);